[kalix]
start = 2024-01-01
end = 2024-01-10

[inputs]

[node.inflow1]
loc = 0,0
type = inflow
inflow = if(sim.step < 3, 0, 100)
ds_1 = filling_storage

[node.filling_storage]
loc = 0, 30
type = storage
dimensions = Level [m], Volume [ML], Area [km2], Spill [ML], 
             0        , 0          , 0.0       , 0, 
             2        , 200        , 0.1       , 0, 
             4        , 400        , 0.2       , 0, 
ds_1 = eos1

[node.eos1]
loc = 0.00, 60.00
type = gauge

[node.emptying_storage]
loc = 28, 0.91
initial_volume = 500
type = storage
dimensions = Level [m], Volume [ML], Area [km2], Spill [ML], 
             0        , 0          , 0.0       , 0, 
             2        , 200        , 0.1       , 0, 
             4        , 400        , 0.2       , 0, 
ds_1 = enviro

[node.enviro]
loc = 28, 30
type = order_constraint
min_order = if(sim.step < 3, 0, 100)
ds_1 = eos2

[node.eos2]
loc = 28, 59.48
type = gauge


[outputs]
node.filling_storage.volume
node.filling_storage.level
node.eos1.dsflow

node.emptying_storage.volume
node.emptying_storage.level
node.eos2.dsflow
